<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{/layouts/authenticated.html}" >
<head>
<meta charset="UTF-8">
<title>Invoice List</title>
</head>
<body>
	
	<div layout:fragment="content" >
		
		<div class="card">
			<div class="card-header">
				<h5 class="fw-bold" >Invoice Management</h5>
			</div>
			<div class="card-body">
				
				<form action="#" class="row">
				
					<div class="col-2">
						<input type="date" name="dateFrom" th:value="${param.dateFrom}" class="form-control" />
					</div>
					
					<div class="col-2">
						<input type="date" name="dateTo" th:value="${param.dateTo}" class="form-control" />
					</div>
					
					<div class="col">
						<input type="text" name="category" th:value="${param.category}" class="form-control" placeholder="Category Name" />
					</div>
					
					<div class="col">
						<input type="text" name="customer" th:value="${param.customer}" class="form-control" placeholder="Customer Name" />
					</div>
					
					<div class="col">
						<input type="text" name="item" th:value="${param.item}" class="form-control" placeholder="Item Name" />
					</div>
					
					<div class="col">
						<button type="submit" class="btn btn-info" ><i class="bi-search" ></i>Search</button>
						<a th:href="@{/user/invoice/edit}" class="btn btn-danger" ><i class="bi-plus" ></i>Add</a>
					</div>
					
				</form>
				
			</div>
		</div>
		
		<table class="table table-striped mt-4">
			<thead>
				<tr>
					<th>ID</th>
					<th>Date</th>
					<th>Customer</th>
					<th>Category</th>
					<th>Item</th>
					<th class="text-end" >UnitPrice</th>
					<th class="text-end" >Quantity</th>
					<th class="text-end" >Price</th>
					<th class="text-end" ></th>
				</tr>
			</thead>
			<tbody>	
				<tr th:each="invDetail : ${invoiceDetailList}" class="align-middle" >
					<td th:text="${invDetail.invoice.id}" ></td>
					<td th:text="${invDetail.invoice.date}" ></td>
					<td th:text="${invDetail.invoice.customer.name}"></td>
					<td th:text="${invDetail.invoice.category}" ></td>
					<td th:text="${invDetail.item}" ></td>
					<td class="text-end" th:text="${invDetail.unitPrice}" ></td>
					<td class="text-end" th:text="${invDetail.quantity}">
					<td class="text-end" th:text="${invDetail.quantity * invDetail.unitPrice}"></td>
					<td>
						<a th:href="@{'/user/invoice/detail?id=' + ${invDetail.invoice.id}}">
							<i class="bi-list h4" ></i>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
		
		
		<div th:include="~{/fragments/components :: pagination(${pager})}" ></div>

	</div>
	
</body>
</html>












